syntax = "proto3";
package myproject.customers;
import "google/protobuf/empty.proto";


option go_package = "./"; 

message chatMessage{
    int64 id = 1;
    string content =2;
    string username = 3;
    string created_at = 4;
    
}

message GetAllChatMessagesResponse{
    repeated chatMessage  result = 1;

}


message CreateChatMessageRequest {
    chatMessage payload = 1;

}

message CreateChatMessageResponse { 
  string result = 1; 
}

message AddUserNameToCacheRequest {
    string username = 1;
}

message AddUserNameToCacheResponse { 
  string result = 1; 
}


message GetAllConnectedusersResponse{
    repeated string  result = 1;

}

message DeleteUserNameFromCacheRequest {
    string username = 1;
}

service ChatMessagesService {
  rpc GetAllChatMessages(google.protobuf.Empty) returns (GetAllChatMessagesResponse);
  rpc CreateChatMessage(CreateChatMessageRequest) returns (CreateChatMessageResponse);
  rpc AddUserNameToCache(AddUserNameToCacheRequest) returns (AddUserNameToCacheResponse);
  rpc GetAllConnectedusers(google.protobuf.Empty) returns (GetAllConnectedusersResponse);
  rpc RefreshConnectedusers(DeleteUserNameFromCacheRequest) returns (GetAllConnectedusersResponse);
}